<html>
<head>
<title>魔兽守卫军兑换码生成器</title>
<script src="angular.min.js"></script>
</head>
<body>
<h2>魔兽守卫军兑换码生成器</h2>
<div ng-app="mainApp" ng-controller="studentController">
<form name="studentForm" novalidate>
<table border="0">
<tr><td>商品ID:</td><td><input type="text" ng-model="productID" required>
</td></tr>
<tr><td>商品数值(只对宝石有效): </td><td><input type="text" ng-model="productValue" required>
</td></tr>
<tr><td>商品数量: </td><td><input type="text" ng-model="productNum" required>
</td></tr>
<tr><td><button ng-click="getProducts()">生成</button></td>
</table>
</form>
<span ng-bind="cdkeys"></span>
<table>
   <tr>
      <th>|--商品ID---</th>
      <th>|--商品数值---</th>
      <th>|--商品数量---</th>
   </tr>
   <tr ng-repeat="product in products">
      <td>|{{ product.productID }}</td>
      <td>|{{ product.productValue }}</td>
      <td>|{{ product.productNum }}</td>
   </tr>
</table>
</div>
<script>
var mainApp = angular.module("mainApp", []);
var count = 1;
mainApp.controller('studentController', ['$scope', '$http', function($scope, $http) {
   // $scope.getProducts = function(){
   //  $http.get("data.txt").success(function(response){
   //    $scope.products = response;
   //    console.log(count);
   //    count += 1;
   //  });
   // }
   $scope.getProducts = function(){
    console.log("getProducts.");
      var res = $http.post('/', {name: "hujing"});
      res.success(function(data, status, headers, config) {
        // $scope.message = data;
        console.log('success.' + data);
      });
      res.error(function(data, status, headers, config) {
        alert( "failure message: " + JSON.stringify({data: data}));
      });
   }
   $scope.reset = function(){
    console.log("reset all values.");
    $scope.productID = "1";
    $scope.productValue = "1";
    $scope.productNum = "1";
   }   
   $scope.reset();
}]);
</script>
</body>
</html>